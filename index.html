<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roshambo</title>
</head>

<body>
    <div class = 'column'>
        <h1>Roshambo</h1>
        <h2 class = 'first'>First to 5 wins!</h2>
        <p>Your Score:</p>
        <p>Enemy Score:</p>
        <button class = 'rock'>Rock</button>
        <button class = 'paper'>Paper</button>
        <button class = 'scissors'>Scissors</button>
    </div>
</body>

<script>
// Rock Paper Scissors

// Variables for playRound function
let userSelection = null;
let compSelection = null;
let userScore = 0;
let compScore = 0;
let result = null;
let outcome = null;
// playRound function
function playRound(){
    if(userSelection === 'rock'){
        if (compSelection === 'rock'){
            result = 'It\'s a draw!';
            outcome = 'draw';
        }
        else if (compSelection === 'paper'){
            result = 'You Lose! Paper beats Rock!';
            outcome = 'loss';
            }
        else {
            result = 'You win! Rock beats Scissors!'
            outcome = 'win';
        }
    }
    else if (userSelection=== 'paper'){
        if (compSelection === 'rock'){
            result = 'You Win! Paper beats Rock!';
            outcome = 'win';
        }
        else if (compSelection === 'paper'){
            result = 'It\'s a draw!';
            outcome = 'draw';
        }
        else {
            result = 'You Lose! Scissors beats Paper!'
            outcome = 'loss';
        }
    }
    else if (userSelection === 'scissors'){
        if (compSelection === 'rock'){
            result = 'You Lose! Rock beats Scissors!';
            outcome = 'loss';
        }
        else if (compSelection === 'paper'){
            result = 'You win! Scissors beat Paper!';
            outcome = 'win';
        }
        else {
            result = 'It\'s a draw!'
            outcome = 'draw';
        }
    }
    console.log(outcome);
}
// computerPlay function 
function computerPlay(){
        let random = Math.floor((Math.random() * 3) + 1);
            if (random === 1){
                compSelection = 'rock';
            }
            else if (random === 2){
                compSelection = 'paper';
            }
            else {
                compSelection = 'scissors';
            }
        return compSelection;
}
// gameOver function
function gameOver(){
    if(userScore === 5 || compScore === 5){
        const first = document.querySelector('.first');
        const h2 = document.createElement('h2');
        const text = document.createTextNode('Game Over!');
        h2.appendChild(text);
        const column = document.querySelector('.column');
        column.insertBefore(h2, first);
        first.remove();
        return;
    }
}

// playround via clicking buttons
const rock = document.querySelector('.rock');
rock.addEventListener('click', function (){
    userSelection = 'rock';
    gameOver();
    computerPlay();
    playRound();
    if(outcome === 'win'){
        userScore += 1;
    }
    else if(outcome === 'loss'){
        compScore += 1;
    }
    gameOver();
});
const paper = document.querySelector('.paper');
paper.addEventListener('click', function (){
    userSelection = 'paper';
    gameOver();
    computerPlay();
    playRound();
    if(outcome === 'win'){
        userScore += 1;
    }
    else if(outcome === 'loss'){
        compScore += 1;
    }
    gameOver();
});
const scissors = document.querySelector('.scissors');
scissors.addEventListener('click', function (){
    userSelection = 'scissors';
    gameOver();
    computerPlay();
    playRound();
    if(outcome === 'win'){
        userScore += 1;
    }
    else if(outcome === 'loss'){
        compScore += 1;
    }
    gameOver();
});


</script>
</html>